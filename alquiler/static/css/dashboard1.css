/* General styles for the dashboard */
.container-fluid {
    padding: 1rem; /* Adjust padding for overall container */
}

/* Header styles */
.d-flex.flex-column.flex-md-row.justify-content-between.align-items-center.mb-4.gap-3 {
    /* Ensures consistent spacing and alignment */
    margin-bottom: 1.5rem !important; /* Override mb-4 for more control if needed */
}

.h3, .h1 {
    color: var(--text-color); /* Use text-color for headings, adapts to dark mode */
    font-weight: 600; /* Slightly bolder for headings */
}

.h1.text-gray-800 {
    color: var(--text-color) !important; /* Ensure heading color adapts */
}

.h1 i, .h3 i {
    color: var(--accent-color); /* Accent color for icons in headings */
    margin-right: 0.5rem;
}

/* Action buttons in header */
.btn-action {
    background-color: var(--accent-color); /* Use accent color for primary actions */
    color: white; /* White text for contrast */
    border: none;
    padding: 0.6rem 1rem;
    border-radius: var(--border-radius-md); /* Rounded corners from base.css */
    font-size: 0.9rem;
    font-weight: 500;
    transition: var(--transition); /* Smooth transitions */
    box-shadow: var(--shadow-sm); /* Subtle shadow */
}

.btn-action:hover {
    background-color: var(--highlight-color); /* Darker accent on hover */
    box-shadow: var(--shadow-md); /* More prominent shadow on hover */
    transform: translateY(-1px); /* Slight lift effect */
}

.btn-action i {
    margin-right: 0.4rem;
}

/* Stats Cards */
.row.g-4.mb-4 {
    gap: 1.5rem; /* Consistent gap between columns */
    margin-bottom: 2rem !important;
}

.card {
    background-color: var(--card-background); /* Card background from base.css */
    border: 1px solid var(--border-color); /* Card border from base.css */
    border-radius: var(--border-radius-md); /* Rounded corners */
    box-shadow: var(--shadow-md); /* Medium shadow */
    transition: var(--transition); /* Smooth transitions */
    height: 100%; /* Ensure cards have equal height in a row */
}

.card:hover {
    transform: translateY(-3px); /* Slight lift on hover */
    box-shadow: 0 6px 15px rgba(0,0,0,0.15); /* Enhanced shadow on hover */
}

.card-body {
    padding: 1.25rem; /* Standard Bootstrap card-body padding */
}

.card .text-xs {
    font-size: 0.75rem; /* Smaller text for labels */
    font-weight: 700; /* Bold */
    text-transform: uppercase;
    margin-bottom: 0.25rem;
}

.card .text-primary {
    color: var(--accent-color) !important; /* Use accent for primary text */
}

.card .text-success {
    color: var(--success-color) !important;
}

.card .text-warning {
    color: var(--warning-color) !important;
}

.card .text-info {
    color: var(--info-color) !important;
}

.card .h5.text-gray-800 {
    color: var(--text-color) !important; /* Ensure value color adapts */
    font-size: 1.5rem; /* Larger font for main values */
    font-weight: 700; /* Extra bold */
}

.card .stats-icon {
    font-size: 2.5rem; /* Larger icons for stats */
    color: var(--text-secondary); /* Secondary text color for icons */
    opacity: 0.6;
}

/* Border left styles for cards */
.card.border-left-primary {
    border-left: 0.25rem solid var(--accent-color) !important;
}

.card.border-left-success {
    border-left: 0.25rem solid var(--success-color) !important;
}

.card.border-left-warning {
    border-left: 0.25rem solid var(--warning-color) !important;
}

.card.border-left-info {
    border-left: 0.25rem solid var(--info-color) !important;
}

/* Charts and Tables Section */
.col-lg-6.mb-4 {
    margin-bottom: 1.5rem !important;
}

.card-header {
    background-color: var(--card-background); /* Header background matches card */
    border-bottom: 1px solid var(--border-color); /* Border matches card */
    padding: 0.75rem 1.25rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top-left-radius: var(--border-radius-md); /* Match card radius */
    border-top-right-radius: var(--border-radius-md); /* Match card radius */
}

.card-header .m-0.font-weight-bold {
    font-size: 1rem;
    font-weight: 700;
}

.card-header .text-primary {
    color: var(--accent-color) !important;
}

.card-header .text-warning {
    color: var(--warning-color) !important;
}

.card-header .text-success {
    color: var(--success-color) !important;
}

.card-header .text-info {
    color: var(--info-color) !important;
}

.card-header i {
    margin-right: 0.5rem;
}

/* Chart specific styles */
.chart-pie {
    position: relative;
    height: 18rem; /* Fixed height for the chart canvas */
    width: 100%;
}

.chart-pie canvas {
    max-width: 100%;
    max-height: 100%;
}

.mt-4.text-center.small {
    font-size: 0.85rem;
    color: var(--text-secondary); /* Text color for chart legends */
}

.mt-4.text-center.small .me-2 {
    margin-right: 1rem !important; /* Spacing for legend items */
}

.mt-4.text-center.small i {
    font-size: 0.7rem;
    vertical-align: middle;
    margin-right: 0.25rem;
}

/* Table styles */
.table-responsive {
    overflow-x: auto; /* Ensure tables are scrollable on small screens */
    margin-bottom: 0; /* Remove default margin */
}

.table {
    width: 100%;
    margin-bottom: 0; /* Remove default margin */
    color: var(--text-color); /* Default text color for table content */
    border-collapse: collapse;
}

.table thead th {
    background-color: var(--primary-color); /* Dark background for table headers */
    color: white; /* White text for table headers */
    padding: 0.75rem 1.25rem;
    text-align: left;
    font-weight: 600;
    border-bottom: none; /* Remove default border */
}

.table tbody tr {
    transition: background-color 0.2s ease;
}

.table tbody tr:hover {
    background-color: var(--secondary-color); /* Hover effect using secondary color */
    color: var(--text-color); /* Ensure text color remains readable on hover */
}

.table tbody td {
    padding: 0.75rem 1.25rem;
    border-bottom: 1px solid var(--border-color); /* Table row border */
    vertical-align: middle;
}

.table tbody tr:last-child td {
    border-bottom: none; /* No border for the last row */
}

.table .badge {
    padding: 0.35em 0.65em;
    border-radius: var(--border-radius-md);
    font-size: 0.75em;
    font-weight: 600;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    display: inline-block;
}

/* Specific badge colors (ensure these adapt to dark mode via base.css variables) */
.badge.bg-danger {
    background-color: var(--error-color) !important;
    color: white;
}

.badge.bg-warning {
    background-color: var(--warning-color) !important;
    color: white; /* Ensure text is white for warning, as per base.css comment */
}

.badge.bg-success {
    background-color: var(--success-color) !important;
    color: white;
}

/* Text alignment for empty states */
.table td.text-center {
    text-align: center;
    color: var(--text-secondary); /* Secondary text color for empty messages */
    font-style: italic;
}

/* Links within tables (e.g., "Ver detalles") */
.table a {
    color: var(--accent-color); /* Accent color for links */
    text-decoration: none;
    transition: color 0.2s ease;
}

.table a:hover {
    text-decoration: underline;
    color: var(--highlight-color); /* Highlight color on hover */
}

/* Responsive adjustments for smaller screens */
@media (max-width: 768px) {
    .d-flex.flex-column.flex-md-row {
        flex-direction: column !important;
        align-items: flex-start !important;
    }

    .d-flex.flex-wrap.gap-2 {
        width: 100%;
        justify-content: flex-start;
    }

    .btn-action {
        width: 100%;
        text-align: center;
        justify-content: center;
    }

    .row.g-4.mb-4 {
        margin-left: 0;
        margin-right: 0;
    }

    .col-xl-3, .col-md-6, .col-lg-6 {
        padding-left: 0.5rem;
        padding-right: 0.5rem;
    }

    .card {
        margin-bottom: 1rem;
    }

    .table-responsive {
        border: 1px solid var(--border-color); /* Add border to responsive table container */
        border-radius: var(--border-radius-md);
    }
}

/* Ensure all text colors adapt */
.text-gray-800 {
    color: var(--text-color) !important; /* Override Bootstrap's static color */
}

.text-xs {
    color: var(--text-secondary); /* Default for small texts */
}

/* Specific overrides for text colors to ensure dark mode compatibility */
body.dark-mode .text-gray-800 {
    color: var(--text-color) !important; /* Ensure it's light in dark mode */
}

body.dark-mode .text-primary {
    color: var(--accent-color) !important; /* Primary color in dark mode */
}

body.dark-mode .text-success {
    color: var(--success-color) !important; /* Success color in dark mode */
}

body.dark-mode .text-warning {
    color: var(--warning-color) !important; /* Warning color in dark mode */
}

body.dark-mode .text-info {
    color: var(--info-color) !important; /* Info color in dark mode */
}